configurable:

spells that you are looking out for
spells that you are willing to provide (not reserved)

maintain list of available CDs

------------
PROTOCOL:

two ways to ask for a cd
for cds that are shared via STATUS messages, these can be asked for directly with GIVE
otherwise, CHECK/READY is used to populate a request list, and then followed by GIVE

<crossrealm target> is only filled in when using RAID instead of WHISPER for cross-realm
compatibility, it's just the name of the intended target of the message, its not there
when using a normal WHISPER distribution.

<request id> is used to filter bad messages, it's generated by the sender and mirrored
  in responses. its mainly to filter lagged messages that may interfere with future
  requests.

CHECK - check for spells
{
	rid = <request_id>
	ids = {list of spells or items to check for}
	item = true if this is an item request, omitted/nil if not
}

READY - we have a spell available, requested by CHECK
{
	rid = <mirrored request_id>
	target = <crossrealm target>
	id = spell or item id we have available.
}

GIVE - ask for a cd
{
	rid = <request_id>
	target = <crossrealm target>
	buff   = true/false, if the spell or item is to be cast on us or just used.
	id     = the desired item or spell we want them to cast
	item   = true if this is an item request, omitted/nil if not
}

NO - decline a cd request
     this is issued when we are busy with a request already,
     when the cd is on cooldown or otherwise unavailable.
{
	rid = <mirrored request_id>
	target = <crossrealm target>
}

STATUS - update raid with available cds
{
	spells = {
		spellid, charges, time, 
		...(tuple repeats)
		
		spellid = spell id 
		charges = charges we have ready
		time = time until another charge becomes available (add 1 to charges when time passes this)
		
	}
}

POLL - request status from everyone
{
}

STATUS is given when:
someone joins or leaves the party (add a delay!)
if the status has lost track somehow (checked every 5 seconds)
when a relevant spell goes on cooldown. SPELL_UPDATE_CHARGES, SPELL_UPDATE_COOLDOWN
when a POLL message is received. (after a player reloads their UI)
when a raid encounter starts

when a status is to be sent, start a timer and then ignore any future status requests for 5 seconds
before sending the status message.
