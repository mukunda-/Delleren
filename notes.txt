configurable:

spells that you are looking out for
spells that you are willing to provide (not reserved)

maintain list of available CDs

FEATURES:

register for spell CD updates
manual-call mode--checks and displays a menu of players with available actions
  which you may call them from or just close the menu after calling them with
  other means
spell reserves -- ignore requests if you want to reserve your spell for a certain strategy


------------
PROTOCOL:

two ways to ask for a cd
for cds that are shared via STATUS messages, these can be asked for directly with GIVE
otherwise, CHECK/READY is used to populate a request list, and then followed by GIVE
can also just do CHECK/READY without the GIVE part for when you just want to check
if a certain spell or item is usable without calling for it.

For WHISPER messages, these may also be sent with RAID, but with a "tar" field set
with the intended target's GUID. This is for cross-realm compatibility.

<request id> is used to filter bad messages, it's generated by the sender and mirrored
  in responses. its mainly to filter lagged messages that may interfere with future
  requests.
  
"Spells" means either actual spells or item effects.

CHECK (RAID) - Check for spells.
{
	rid  = <request_id>
	ids  = {list of spells to check for}
	item = true if this is an item request, omitted/nil if not
}

READY (WHISPER) - We have a spell available, requested by CHECK.
{
	rid = <mirrored request_id>
	id  = spell or item id we have available.
	      (according to the CHECK message, what kind of id it is)
}

GIVE (WHISPER) - Ask for a cd.
{
	rid = <request_id>
	buff = true/false, if the spell or item is to be cast on us or just used.
	id   = the desired item or spell we want them to cast
	item = true if this is an item request, omitted/nil if not
}

NO (WHISPER) - Decline a cd request.
     this is issued when we are busy with a request already,
     when the cd is on cooldown, or reserved.
{
	rid = <mirrored request_id>
}

STATUS (RAID) - Update raid with status
{
	cds = { -- available CDs
	
		cds is a simple array of integers, each entry consist of a tuple of 4 integers
		
		spellid, duration, charges, max_charges, time 
		
		
		spellid = spell id 
		duration = the duration of the spell's cooldown
		charges = charges we have ready
		max_charges = the maximum amount of charges we can have
		time = time until another charge becomes available (add 1 to charges when time passes this)
		       or 0 if its not on cd
		
	}
	reg = {
		-- list of spell IDs that we are interested in tracking, this is hard limited to 16 ids
	}
	poll = true if we want everyone to send a status message
}

spells that are "registered" allow players to access them faster by directly 
calling for them rather than doing a CHECK first. A spell is "registered" when
a single player in a party includes it in their "reg" list in their STATUS
messages.

STATUS is sent when:
a player joins a party (with poll=true to refresh everyone else)
a player reloads their ui (with poll=true to refresh everyone else)
a player's registered spell list changes
   this may cause a sequence of status messages, for example:
     player2 sends status, nothing changes
     player1 sends status, player2 receives a spellid that is currently not "registered"
     player2 sends another status with the info on the new registered spellid, that is, if they
     know the spell
when a raid encounter starts
when talents or spec is changed
if the status changes (checked every second)

when a status update is triggered by another player, wait 5 seconds before issuing the status message
as to prevent abuse and possibly combine some future status update requests into one.
